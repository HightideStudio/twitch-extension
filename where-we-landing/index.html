<!DOCTYPE html>
<html lang="en">

  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Bare - Start Bootstrap Template</title>

    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">
    
    <script type="text/javascript" src="https://cdn.rawgit.com/pa7/heatmap.js/master/build/heatmap.min.js"></script>
    
    <!-- Hotjar Tracking Code for www.hightidestudio.com -->
    <script>
        (function(h,o,t,j,a,r){
            h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
            h._hjSettings={hjid:1129304,hjsv:6};
            a=o.getElementsByTagName('head')[0];
            r=o.createElement('script');r.async=1;
            r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
            a.appendChild(r);
        })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
    </script>   
    
    
    <style>
      .no-padding{
        padding: 0 !important;
      }
      .no-margin{
        margin: 0 !important;
      }

      .modal-content{
        overflow: hidden !important;
      }
      
      .heatmap,
      .close{
        -moz-user-select: none !important; 
        -webkit-user-select: none !important; 
        -ms-user-select:none !important; 
        user-select:none !important;
        -o-user-select:none !important;
        outline: none !important;
      }

      .clear-heat-map,
      .clear-heat-map:hover,
      .clear-heat-map:active,
      .load-heat-map,
      .load-heat-map:hover,
      .load-heat-map:active{
        background: none !important;
        border: none !important;
        outline: none !important;
        box-shadow: none !important;
      }

      .where-we-landing-modal{
        position: absolute;
        left: 0;
        top: 0;
        height: max-content;
      }
    </style>
  </head>

  <body>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top sr-only">
      <div class="container">
        <a class="navbar-brand" href="#">Start Bootstrap</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home
                <span class="sr-only">(current)</span>
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Services</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Contact</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Page Content -->
    <div class="col-sm-offset-1" style="width: 80%">
      <div class="row">
        <div class="col-lg-11 offset-lg-1">
          <ul class="list-unstyled">
            <br/>
            <br/>
            <br/>
            <br/>

            <!-- Button trigger modal -->
            <div class="btn-group-vertical">
              <button type="button" class="btn btn-primary pull-left where-we-landing-modal" data-toggle="modal" data-target="#where-we-landing-modal">
                  <span style="font-size: 3em;">
                      <i class="fas fa-map-marked-alt"></i>
                  </span>
              </button>
              
              <button type="button" class="btn btn-primary pull-left leaderBaordModal" data-toggle="modal" data-target="#leaderBaordModal">
                  <span style="font-size: 3em;">
                      <i class="fas fa-medal"></i>
                  </span>
              </button>
            </div>
              

              <!-- Where We Landing Modal -->
              <div class="modal fade where-we-landing-modal" id="where-we-landing-modal" tabindex="-1" role="dialog" aria-labelledby="where-we-landing-modal" aria-hidden="true">
                <div class="modal-dialog modal-lg" role="document">
                  <div class="modal-content">
                    <div class="modal-header sr-only">
                      <h5 class="modal-title" id="where-we-landing-modal">Modal title</h5>
                      
                    </div>
                    <div class="modal-body no-padding">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="position: absolute; top: 5px; right: 10px; z-index: 99999;">
                          <span aria-hidden="true">&times;</span>
                        </button>

                        <div class="container heatmap no-padding">
                            <img class="" src="images/Forts7map.jpg" style="width: 100%;"/>
                        </div>
                    </div>
                    <div class="modal-footer" style="border: none; position: absolute; bottom: -10px; right: -10px;">
                      <button type="button" class="btn btn-secondary clear-heat-map"><i class="fas fa-trash-alt"></i></button>
                      <button type="button" class="btn btn-secondary load-heat-map"><i class="fas fa-cloud-download-alt"></i></button>
                      <!--
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Save changes</button>
                      -->
                    </div>
                  </div>
                </div>
              </div>
              

              <!-- Leadboard Modal -->
              <div class="modal fade" id="leaderBaordModal" tabindex="-1" role="dialog" aria-labelledby="leaderBaordModal" aria-hidden="true">
                <div class="modal-dialog" role="document">
                  <div class="modal-content" style="width: 700px">
                    <div class="modal-header sr-only">
                      <h5 class="modal-title" id="leaderBaordModal">Modal title</h5>
                      
                    </div>
                    <div class="modal-body noPadding">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close" style="position: absolute; top: 5px; right: 10px;">
                          <span aria-hidden="true">&times;</span>
                        </button>

                        <div class="container noPadding fortniteTrackerDiv">
                          fortnite tracker data <a href="#" class="leaderBaordModal">click me</a>
                        </div>
                    </div>
                    <div class="modal-footer sr-only">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                      <button type="button" class="btn btn-primary">Save changes</button>
                    </div>
                  </div>
                </div>
              </div>
          </ul>
        </div>
      </div>
    </div>

    <script>
      $( document ).ready(function() {
        $(".leaderBaordModal").on("click", function(){
          $(".fortniteTrackerDiv").load('/twitch-extension/fortnite-tracker/fortnite-tracker.php');
        })


        $(".where-we-landing-modal .heatmap").on("click", function(){
        })
        

        $( ".where-we-landing-modal" ).on('shown.bs.modal', function (e) {
          var heatmapInstance = h337.create({
            // only container is required, the rest will be defaults
            container: document.querySelector('.where-we-landing-modal .heatmap')
          });

          // now generate some random data
          var points = [];
          var max = 0;
          var width = 1920;
          var height = 1080;
          var len = 200;

          while (len--) {
            //var val = Math.floor(Math.random()*100);
            var val = .1;
            max = Math.max(max, val);
            var point = {
              x: Math.floor(Math.random()*width),
              y: Math.floor(Math.random()*height),
              value: val
            };
            //points.push(point);
          }

          document.querySelector('.where-we-landing-modal .heatmap').onclick = function(ev) {
            console.log("LAND HERE !");
            
            heatmapInstance.addData({
              x: ev.layerX,
              y: ev.layerY,
              value: .1
            });
          };

          //clear heat map
          var clearData = {
            max: 100,
            min: 0,
            data: []
          };
          $(".clear-heat-map").on("click", function(){
            heatmapInstance.setData(clearData);
          });

          
          //load heat map
          $(".load-heat-map").on("click", function(){
            // a single datapoint
            var dataPoint = { 
              x: Math.floor(Math.random()*798), // x coordinate of the datapoint, a number 
              y: Math.floor(Math.random()*798), // y coordinate of the datapoint, a number
              value: .1 // the value at datapoint(x, y)
            };

            // multiple datapoints (for data initialization use setData!!)
            var dataPoints = [dataPoint, dataPoint, dataPoint, dataPoint];
            
            heatmapInstance.addData(dataPoints);
          });
        });






        //On Click Heat Map JS
        /*
        var heatmapInstance = h337.create({
          container: document.querySelector('.heatmap'),
          radius: 90
        });
        document.querySelector('.where-we-landing-modal').onclick = function(ev) {
          heatmapInstance.addData({
            x: ev.layerX,
            y: ev.layerY,
            value: 1
          });
        };
        */
        

        // Simple Config
        /*
        var config = {
          container: document.getElementById('heatmapContainer'),
          radius: 10,
          maxOpacity: .5,
          minOpacity: 0,
          blur: .75,
          gradient: {
            // enter n keys between 0 and 1 here
            // for gradient color customization
            '.5': 'blue',
            '.8': 'red',
            '.95': 'white'
          }
        };
        var heatmapInstance = h337.create(config);
        */
      });
    </script>

  </body>

</html>
